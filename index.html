<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presidential Timeline</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            color: #333;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 20px;
            background: #f8f8f8;
            border-radius: 8px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #222;
        }

        .header p {
            max-width: 800px;
            margin: 0 auto;
            color: #666;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50px;
            height: 100%;
            width: 4px;
            background: linear-gradient(180deg, 
                rgba(51,51,51,0) 0%,
                rgba(51,51,51,1) 100px,
                rgba(51,51,51,1) calc(100% - 100px),
                rgba(51,51,51,0) 100%
            );
        }

        @media (max-width: 768px) {
            .timeline::before {
                left: 30px;
            }
        }

        .timeline-item {
            display: flex;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-dot {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 4px solid #333;
            border-radius: 50%;
            margin-left: 42px;
            flex-shrink: 0;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .timeline-dot {
                margin-left: 22px;
            }
        }

        .timeline-content {
            background: #f4f4f4;
            padding: 20px;
            border-radius: 8px;
            margin-left: 20px;
            flex-grow: 1;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .timeline-date {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .timeline-title {
            margin-bottom: 10px;
        }

        .timeline-text {
            color: #666;
            margin-bottom: 15px;
        }

        .timeline-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: #fff;
            border-radius: 4px;
            margin-top: 10px;
        }

        .timeline-details.expanded {
            max-height: 500px;
            transition: max-height 0.5s ease-in;
        }

        .timeline-details-content {
            padding: 15px;
        }

        .expand-button {
            background: #333;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .expand-button:hover {
            background: #555;
        }

        #loading {
            text-align: center;
            padding: 20px;
            display: none;
        }

        .loading-visible {
            display: block !important;
        }

        .footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 50px;
            background: #f8f8f8;
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .footer.visible {
            opacity: 1;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>United States Presidents Timeline</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p style="margin-top: 20px">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </header>

    <div class="timeline" id="timeline"></div>
    <div id="loading">Loading more events...</div>
    
    <footer class="footer" id="timeline-footer" style="display: none;">
        <h2>End of Timeline</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
    </footer>

    <script>
        // Sample data for US Presidents with HTML formatting
        const presidentsData = [
            {
                date: "<strong>2021-2025</strong>",
                title: "Joe Biden",
                description: "46th <em>President of the United States</em>",
                details: "Joe Biden served as the <strong>47th Vice President</strong> during the Obama administration from 2009 to 2017.<br><br>His presidency focused on three main areas:<ul><li>Handling the COVID-19 pandemic</li><li>Climate change initiatives</li><li>Infrastructure development</li></ul>"
            },
            {
                date: "<strong>2017-2021</strong>",
                title: "Donald Trump",
                description: "45th <em>President of the United States</em>",
                details: "Donald Trump was a businessman and television personality before becoming president.<br><br>Key aspects of his presidency:<ul><li>Significant tax cuts</li><li>Immigration policy changes</li><li>COVID-19 pandemic response</li></ul>"
            },
            {
                date: "<strong>2009-2017</strong>",
                title: "Barack Obama",
                description: "44th <em>President of the United States</em>",
                details: "Barack Obama was the <strong>first African American president</strong>.<br><br>Notable achievements:<ul><li>Affordable Care Act</li><li>Economic recovery</li><li>Paris Climate Agreement</li></ul>"
            },
            {
                date: "<strong>2001-2009</strong>",
                title: "George W. Bush",
                description: "43rd <em>President of the United States</em>",
                details: "George W. Bush's presidency was largely defined by the <strong>September 11, 2001</strong> terrorist attacks.<br><br>Key policies:<ul><li>War on Terror</li><li>Department of Homeland Security</li><li>No Child Left Behind Act</li></ul>"
            },
            {
                date: "<strong>1993-2001</strong>",
                title: "Bill Clinton",
                description: "42nd <em>President of the United States</em>",
                details: "Bill Clinton's presidency was marked by <strong>economic prosperity</strong>.<br><br>Major achievements:<ul><li>Budget surplus</li><li>NAFTA implementation</li><li>Welfare reform</li></ul>"
            }
        ];

        let currentIndex = 0;
        const itemsPerLoad = 3;
        const timeline = document.getElementById('timeline');
        const loadingElement = document.getElementById('loading');
        const footerElement = document.getElementById('timeline-footer');
        let isLoading = false;

        function createTimelineItem(data) {
            const item = document.createElement('div');
            item.className = 'timeline-item';
            
            item.innerHTML = `
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">${data.date}</div>
                    <h3 class="timeline-title">${data.title}</h3>
                    <p class="timeline-text">${data.description}</p>
                    <button class="expand-button" onclick="toggleDetails(this)">Show Details</button>
                    <div class="timeline-details">
                        <div class="timeline-details-content">
                            ${data.details}
                        </div>
                    </div>
                </div>
            `;
            
            return item;
        }

        function toggleDetails(button) {
            const details = button.nextElementSibling;
            const isExpanded = details.classList.contains('expanded');
            
            if (isExpanded) {
                details.classList.remove('expanded');
                button.textContent = 'Show Details';
            } else {
                details.classList.add('expanded');
                button.textContent = 'Hide Details';
            }
        }

        function loadMoreItems() {
            if (isLoading || currentIndex >= presidentsData.length) return;
            
            isLoading = true;
            loadingElement.classList.add('loading-visible');

            setTimeout(() => {
                const fragment = document.createDocumentFragment();
                
                for (let i = 0; i < itemsPerLoad && currentIndex < presidentsData.length; i++) {
                    const item = createTimelineItem(presidentsData[currentIndex]);
                    fragment.appendChild(item);
                    currentIndex++;
                }

                timeline.appendChild(fragment);

                // Trigger animation for new items
                setTimeout(() => {
                    const newItems = timeline.querySelectorAll('.timeline-item:not(.visible)');
                    newItems.forEach(item => item.classList.add('visible'));
                }, 100);

                isLoading = false;
                loadingElement.classList.remove('loading-visible');

                // Check if we've reached the end
                if (currentIndex >= presidentsData.length) {
                    loadingElement.style.display = 'none';
                    footerElement.style.display = 'block';
                    setTimeout(() => {
                        footerElement.classList.add('visible');
                    }, 100);
                }

                // Check if we should load more
                checkScroll();
            }, 1000); // Simulate loading delay
        }

        function checkScroll() {
            const scrollPosition = window.innerHeight + window.scrollY;
            const timelineBottom = timeline.offsetTop + timeline.offsetHeight;

            if (scrollPosition >= timelineBottom - 500) {
                loadMoreItems();
            }
        }

        // Initial load
        loadMoreItems();

        // Event listeners
        window.addEventListener('scroll', checkScroll);
        window.addEventListener('resize', checkScroll);
    </script>
</body>
</html>
